if (vim.fn.exists("did_load_filetypes") == 1)
  return

ftgroup = vim.api.nvim_create_augroup('filetypedetect', {})

ft_from_pattern = (ft, pattern) ->
  vim.api.nvim_create_autocmd({"BufRead", "BufNewFile"}, {
    group: ftgroup
    pattern: pattern
    command: "setfiletype #{ft}"
  })

ft_from_pattern("dosini", ".env{,.example}")
ft_from_pattern("dockerfile", "*.dockerfile")
